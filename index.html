<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>School of Awakening</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- ========== Fonts ========== -->
<link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Permanent+Marker&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">

<style>
/* ================= VARIABLES ================= */
:root{
  --bg-main:#fff7d6;
  --bg-soft:#ffeaa7;
  --card:#ffffff;
  --text:#4b4b4b;
  --accent:#e17055;
  --radius:14px;
  --shadow:5px 5px 0 var(--accent);
  --transition:.35s ease;
}

/* ================= MODES ================= */
body.kids{font-family:'Indie Flower',cursive;}
body.adult{
  --bg-main:#f4f1ec;
  --bg-soft:#e6e1da;
  --accent:#3f4a3c;
  --shadow:none;
  font-family:'Inter',sans-serif;
}

/* ================= BASE ================= */
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg-main);
  color:var(--text);
  transition:var(--transition);
}
a{text-decoration:none;color:inherit}

/* ================= HEADER ================= */
header{
  position:sticky;top:0;z-index:20;
  background:rgba(255,255,255,.95);
  border-bottom:1px solid var(--accent);
}
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:16px 24px;
}
.logo{font-size:1.6rem}

/* ================= NAV ================= */
.main-nav ul{
  display:flex;
  gap:18px;
  list-style:none;
  margin:0;
  padding:0;
}
.main-nav a{
  padding:6px 12px;
  border-radius:20px;
  transition:var(--transition);
}
body.kids .main-nav a{font-family:'Permanent Marker',cursive}
.main-nav a:hover{
  background:var(--accent);
  color:#fff;
}

/* ================= DROPDOWN (ONLY ADDITION) ================= */
.dropdown{position:relative}

/* dash container */
.journey-dropdown{
  position:absolute;
  top:110%;
  left:0;
  display:flex;
  gap:14px;
  align-items:flex-start;
  opacity:0;
  pointer-events:none;
  transform:translateY(10px);
  transition:.45s ease;
}

/* dashed svg */
.journey-dropdown svg{
  width:18px;
  height:140px;
}
.journey-dropdown path{
  fill:none;
  stroke:var(--accent);
  stroke-width:2;
  stroke-dasharray:6 6;
  stroke-dashoffset:80;
  opacity:0;
  animation:dashDraw .6s ease forwards;
}

/* menu box (same style as before) */
.dropdown-content{
  background:#fff;
  border:1px solid var(--accent);
  border-radius:var(--radius);
  padding:6px 0;
  list-style:none;
}

/* open */
.dropdown:hover .journey-dropdown{
  opacity:1;
  pointer-events:auto;
  transform:translateY(0);
}
.dropdown:hover path{opacity:1}

@keyframes dashDraw{
  to{stroke-dashoffset:0}
}

/* ================= CONTROLS ================= */
.header-controls{
  display:flex;
  gap:10px;
}
.mode-switch,
.lang-switch{
  display:flex;
  border:1px solid var(--accent);
  border-radius:20px;
  overflow:hidden;
}
.mode-switch button,
.lang-switch button{
  background:#fff;
  border:none;
  padding:6px 16px;
  cursor:pointer;
}
button.active{
  background:var(--accent);
  color:#fff;
}

/* ================= HERO ================= */
.hero{
  background:linear-gradient(135deg,var(--bg-main),var(--bg-soft));
  padding:120px 24px 80px;
}
.hero-grid{
  max-width:1200px;
  margin:auto;
  display:grid;
  grid-template-columns:1.2fr 1fr;
  gap:40px;
}

/* ================= CONTENT ================= */
.wrap{
  max-width:1200px;
  margin:auto;
  padding:80px 24px;
}

/* ================= MAP ================= */
#mapCanvas{
  width:100%;
  max-width:900px;
  height:420px;
  border:1px solid var(--accent);
  border-radius:20px;
  background:#fff;
  cursor:pointer;
}

/* ================= RESPONSIVE ================= */
@media(max-width:900px){
  .hero-grid{grid-template-columns:1fr}
  .main-nav{display:none}
}

/* ================= RTL ================= */
html[lang="ar"]{direction:rtl}
html[lang="ar"] body{font-family:'Amiri',serif}
</style>
</head>

<body class="kids">

<!-- ========= HEADER ========= -->
<header>
<div class="header">
<div class="logo" data-en="School of Awakening" data-ar="مدرسة الصحوة">School of Awakening</div>

<nav class="main-nav">
<ul>
<li><a data-en="Home" data-ar="الرئيسية">Home</a></li>

<li class="dropdown">
<a data-en="Journey" data-ar="الرحلة">Journey</a>

<!-- ✨ ADDITION ONLY -->
<div class="journey-dropdown">
  <svg viewBox="0 0 40 140">
    <path d="M20 5 V135"/>
  </svg>
  <ul class="dropdown-content">
    <li><a>Confusion</a></li>
    <li><a>Healing</a></li>
    <li><a>Tawheed</a></li>
    <li><a>Faith</a></li>
  </ul>
</div>
</li>

<li><a data-en="Map" data-ar="الخريطة">Map</a></li>
<li><a data-en="Film" data-ar="فيلم">Film</a></li>
</ul>
</nav>

<div class="header-controls">
<div class="mode-switch">
<button id="adultBtn">Adult</button>
<button id="kidsBtn" class="active">Kids</button>
</div>
<div class="lang-switch">
<button id="enBtn" class="active">English</button>
<button id="arBtn">العربية</button>
</div>
</div>
</div>
</header>

<!-- ========= MAP ========= -->
<main class="wrap">
<canvas id="mapCanvas" width="900" height="420"></canvas>
</main>

<script>
/* ===== Mode Switch ===== */
adultBtn.onclick=()=>{document.body.className='adult';adultBtn.classList.add('active');kidsBtn.classList.remove('active');drawMap()}
kidsBtn.onclick=()=>{document.body.className='kids';kidsBtn.classList.add('active');adultBtn.classList.remove('active');drawMap()}

/* ===== Language ===== */
function setLanguage(lang){
document.documentElement.lang=lang
document.documentElement.dir=lang==='ar'?'rtl':'ltr'
document.querySelectorAll('[data-en]').forEach(el=>{
el.innerHTML=lang==='en'?el.dataset.en:el.dataset.ar
})
}
enBtn.onclick=()=>setLanguage('en')
arBtn.onclick=()=>setLanguage('ar')

/* ===== Interactive Map ===== */
const canvas=document.getElementById('mapCanvas')
const ctx=canvas.getContext('2d')
const zones=[
{x:140,y:260,r:26,label:'Al-Mulk'},
{x:330,y:140,r:26,label:'Awareness'},
{x:520,y:260,r:26,label:'Meaning'},
{x:720,y:160,r:26,label:'Hereafter'}
]

let hover=null

canvas.onmousemove=e=>{
const r=canvas.getBoundingClientRect()
const mx=e.clientX-r.left,my=e.clientY-r.top
hover=null
zones.forEach((z,i)=>{
if(Math.hypot(mx-z.x,my-z.y)<z.r)hover=i
})
drawMap()
}

function drawMap(){
ctx.clearRect(0,0,canvas.width,canvas.height)
const accent=getComputedStyle(document.body).getPropertyValue('--accent')
ctx.strokeStyle=accent
ctx.lineWidth=3
ctx.beginPath()
zones.forEach((z,i)=>i?ctx.lineTo(z.x,z.y):ctx.moveTo(z.x,z.y))
ctx.stroke()

zones.forEach((z,i)=>{
ctx.beginPath()
ctx.fillStyle=hover===i?accent:'#fff'
ctx.arc(z.x,z.y,z.r,0,Math.PI*2)
ctx.fill()
ctx.stroke()
ctx.fillStyle=hover===i?'#fff':'#000'
ctx.font='14px Inter'
ctx.textAlign='center'
ctx.fillText(z.label,z.x,z.y+44)
})
}
drawMap()
</script>

</body>
</html>
