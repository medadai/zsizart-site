<!DOCTYPE html>
<html lang="en">                     <!-- default language is English -->
<head>
<meta charset="UTF-8">
<title>School of Awakening</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- ---------- Fonts ---------- -->
<link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=Permanent+Marker&display=swap"
      rel="stylesheet">   <!-- Kids -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@400;500&display=swap"
      rel="stylesheet">   <!-- Adult -->
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap"
      rel="stylesheet">   <!-- Arabic (optional) -->

<style>
/* --------------------------------------------------------
   ==== 0️⃣ Global variables (both modes) =================
   -------------------------------------------------------- */
:root{
  /* Light‑mode (Adult) */
  --bg-main:#fff7d6;
  --bg-soft:#ffeaa7;
  --card:#ffffff;
  --text:#4b4b4b;
  --accent:#e17055;
  --radius:14px;
  --shadow:5px 5px 0 var(--accent);
}

/* --------------------------------------------------------
   ==== 1️⃣ Adult mode (default) ==========================
   -------------------------------------------------------- */
body.adult{
  --bg-main:#f4f1ec;
  --bg-soft:#e6e1da;
  --accent:#3f4a3c;
  --shadow:none;
  font-family:'Inter',sans-serif;
}

/* --------------------------------------------------------
   ==== 2️⃣ Kids mode (overwrites the palette) ===========
   -------------------------------------------------------- */
body.kids{
  --bg-main:#e6D5C3;
  --bg-soft:#BAAFA3;
  --card:#e1DAD7;
  --text:#817065;
  --accent:#70794F;
  --accent-trans:rgba(112,121,79,0.6);
  --radius:12px;
  --shadow:4px 4px 0 var(--accent);
}

/* --------------------------------------------------------
   ==== 3️⃣ Base styles ===================================
   -------------------------------------------------------- */
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg-main);
  color:var(--text);
  transition:.3s;
}
a{text-decoration:none;color:inherit}

/* --------------------------------------------------------
   ==== 4️⃣ Header ========================================
   -------------------------------------------------------- */
header{
  position:sticky;top:0;z-index:10;
  background:rgba(255,255,255,.95);
  border-bottom:1px solid var(--accent);
}
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:16px 24px;
}
.logo{
  font-size:1.6rem;
}
body.adult .logo{
  font-family:'Playfair Display',serif;
  font-weight:700;
}

/* ---- Main navigation (desktop) ---- */
.main-nav ul{
  display:flex;
  gap:20px;
  list-style:none;
  margin:0;
  padding:0;
}
.main-nav a{
  font-size:.95rem;
  display:block;
  padding:6px 12px;
}
body.kids .main-nav a{
  font-family:'Permanent Marker',cursive;
}
.main-nav a:hover{
  background:var(--accent);
  color:#fff;
}

/* --------------------------------------------------------
   ==== 5️⃣ Dropdown (Journey) ============================
   -------------------------------------------------------- */
.dropdown{position:relative}
.dropdown-content{
  position:absolute;
  top:140%;
  left:50%;
  transform:translateX(-50%) scaleY(0);
  transform-origin:top center;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
  padding:18px 30px;
  background:var(--bg-main);
  border:2px dashed var(--accent);
  opacity:0;
  pointer-events:none;
  transition:
    transform .5s cubic-bezier(.25,1,.35,1),
    opacity .25s ease;
}
.dropdown:hover .dropdown-content{
  transform:translateX(-50%) scaleY(1);
  opacity:1;
  pointer-events:auto;
}

/* --------------------------------------------------------
   ==== 6️⃣ “Mode” button (Adult ↔ Kids) =================
   -------------------------------------------------------- */

/* We keep the fixed container that you already had – only the
   inner markup changes. */
.mode-toggle{
  position:fixed;
  top:0;
  right:0;
  width:40px;
  height:100%;
  z-index:2000;
}

/* the invisible “trigger” that reveals the button when hovered */
.mode-toggle .mode-trigger{
  position:absolute;
  top:0;
  right:0;
  width:10px;
  height:100%;
  cursor:pointer;
}

/* -----------------------------------------------------------------
   NEW: the actual button – it uses the Tailwind‑like class names
   you gave us, but we also write the equivalent plain‑CSS rules so
   you don’t need to import Tailwind.
------------------------------------------------------------------- */
.mode-toggle button{
  /* Tailwind classes you listed – recreated in pure CSS */
  display:inline-flex;
  align-items:center;
  gap:.5rem;               /* gap-2 */
  height:1.5rem;           /* h-6  (6 * 0.25rem = 1.5rem) */
  padding:0 .5rem;       /* px-2 (2 * .25rem = .5rem) */
  border-radius:0.75rem;  /* rounded-xl */
  text-transform:uppercase;
  border:none;
  background:transparent;
  color:inherit;
  cursor:pointer;
  outline:0;
  transition:background .2s,color .2s;
}
.mode-toggle button:hover{
  background:#000;        /* hover:bg-black   */
  color:#fff;             /* hover:text-white */
}
.mode-toggle button svg{
  width:1em;
  height:auto;
  stroke:currentColor;    /* we let the <svg> inherit the button colour */
  transition:none;       /* transition‑none */
}
.mode-toggle button:hover svg{
  stroke:#fff;           /* group‑hover:stroke-white */
}

/* -----------------------------------------------------------------
   When the invisible trigger is hovered the button slides in.
------------------------------------------------------------------- */
.mode-toggle .mode-switch{
  position:absolute;
  top:50%;
  right:-80px;               /* hidden off‑screen */
  transform:translateY(-50%);
  display:flex;
  transition:right .3s ease;
  background:var(--bg-soft);
  border:1px solid var(--accent);
  border-right:none;
  border-radius:8px 0 0 8px;
  overflow:hidden;
}
.mode-toggle .mode-trigger:hover + .mode-switch,
.mode-toggle .mode-switch:hover{
  right:0;
}

/* -----------------------------------------------------------------
   Mobile tweaking (kept from your original CSS)
------------------------------------------------------------------- */
@media(max-width:600px){
  .mode-toggle{
    width:30px;
  }
  .mode-toggle .mode-switch{
    right:-60px;
  }
  .mode-toggle .mode-trigger:hover + .mode-switch,
  .mode-toggle .mode-switch:hover{
    right:0;
  }
}

/* --------------------------------------------------------
   ==== 7️⃣ Hero section ==============================
   -------------------------------------------------------- */
.hero{
  background:linear-gradient(135deg,var(--bg-main),var(--bg-soft));
  padding:120px 24px 80px;
}
.hero-grid{
  max-width:1200px;
  margin:auto;
  display:grid;
  grid-template-columns:1.2fr 1fr;
  gap:40px;
}
.hero h1{
  font-size:clamp(2.4rem,6vw,3.6rem);
  line-height:1.2;
}
body.adult .hero h1{
  font-family:'Playfair Display',serif;
  font-weight:700;
}
.hero p{
  font-size:1.1rem;
  max-width:520px;
}
body.kids .hero h1,
body.kids .hero p{
  font-family:'Permanent Marker',cursive;
  color:var(--text);
}

/* ---- Buttons inside Hero ---- */
.btn{
  display:inline-block;
  margin-top:20px;
  padding:14px 26px;
  border:1px solid var(--accent);
  border-radius:10px;
}
body.kids .btn{
  font-family:'Permanent Marker',cursive;
  background:var(--accent);
  color:#fff;
}
body.adult .btn{
  background:transparent;
  font-weight:500;
}

/* --------------------------------------------------------
   ==== 8️⃣ Slides (horizontal scroll) ==================
   -------------------------------------------------------- */
.hero-visual{
  display:flex;
  gap:16px;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
}
.hero-visual::-webkit-scrollbar{display:none}
.slide{
  min-width:220px;
  background:#fff;
  border:1px solid var(--accent);
  border-radius:14px;
  padding:40px 20px;
  text-align:center;
  scroll-snap-align:center;
}
body.kids .slide{
  font-family:'Permanent Marker',cursive;
  font-size:1.4rem;
  animation:float 4s ease-in-out infinite;
}
@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
}

/* --------------------------------------------------------
   ==== 9️⃣ General sections, cards, footer =============
   -------------------------------------------------------- */
.wrap{
  max-width:1200px;
  margin:auto;
  padding:80px 24px;
}
section{margin-top:120px}
h2{
  font-size:2rem;
}
body.adult h2{
  font-family:'Playfair Display',serif;
}
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:24px;
}
.card{
  padding:28px;
  background:#fff;
  border:1px solid var(--accent);
  border-radius:14px;
}
body.kids .card{
  background:var(--card);
  border:2px solid var(--accent);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

/* --------------------------------------------------------
   ==== 10️⃣ Map canvas ================================
   -------------------------------------------------------- */
#mapCanvas{
  width:100%;
  max-width:900px;
  height:420px;
  background:#fff;
  border:1px solid var(--accent);
  border-radius:20px;
}

/* --------------------------------------------------------
   ==== 11️⃣ Footer ====================================
   -------------------------------------------------------- */
footer{
  margin-top:120px;
  padding:30px;
  text-align:center;
  font-size:.85rem;
  background:#fff;
  border-top:1px solid var(--accent);
}

/* --------------------------------------------------------
   ==== 12️⃣ Responsiveness ============================
   -------------------------------------------------------- */
@media(max-width:900px){
  .hero-grid{grid-template-columns:1fr}
  .main-nav{display:none}
}

/* --------------------------------------------------------
   ==== 13️⃣ RTL (Arabic) =============================
   -------------------------------------------------------- */
html[lang="ar"]{
  direction:rtl;
}
html[lang="ar"] body{
  font-family:'Amiri',serif;
}
html[lang="ar"] .hero,
html[lang="ar"] .wrap,
html[lang="ar"] footer{
  text-align:right;
}

/* --------------------------------------------------------
   ==== 14️⃣ Language round button (bottom‑right) =======
   -------------------------------------------------------- */
.lang-toggle{
  position:fixed;
  bottom:20px;
  right:20px;
  z-index:2100;
}
.lang-toggle button{
  width:48px;
  height:48px;
  border:none;
  border-radius:50%;
  background:var(--accent);
  opacity:0.5;
  color:#fff;
  font-size:1rem;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:background .2s, opacity .2s;
}
.lang-toggle button:hover{
  background:var(--accent);
  opacity:0.8;
}

/* --------------------------------------------------------
   ==== 15️⃣ Dot‑background (Kids only) ================
   -------------------------------------------------------- */
body:not(.kids) .dot-bg{display:none}
.dot-bg{
  position:fixed; inset:0;
  pointer-events:none;
  z-index:-2;
  background-image:
    radial-gradient(circle 1px at 3px 3px,var(--accent) 100%,transparent 0%);
  background-size:20px 20px;
}
.dot-bg::after{
  content:"";
  position:absolute; inset:0;
  pointer-events:none;
  background:radial-gradient(circle 120px at var(--x,0) var(--y,0),
                              transparent,
                              rgba(255,255,255,0.6));
  opacity:0;
  transition:opacity .3s ease;
}
body.kids:hover .dot-bg::after{opacity:1}

/* --------------------------------------------------------
   ==== 16️⃣ Header tweaks for Kids ==================
   -------------------------------------------------------- */
body.kids header{
  background:transparent;
  border-bottom:2px solid var(--accent);
  transition:background .3s,box-shadow .3s;
}
body.kids header:hover{
  background:rgba(255,255,255,.9);
  box-shadow:0 4px 12px rgba(0,0,0,.15);
}
body.kids .logo{
  font-family:'Permanent Marker',cursive;
  color:var(--text);
}
body.kids .main-nav a{
  font-family:'Permanent Marker',cursive;
  color:var(--text);
  transition:background .2s,color .2s,transform .2s;
}
body.kids .main-nav a:hover{
  background:var(--accent-trans);
  color:#fff;
  transform:scale(1.1);
}

/* --------------------------------------------------------
   ==== 17️⃣ Hero tweaks for Kids ====================
   -------------------------------------------------------- */
body.kids .hero{
  background:linear-gradient(135deg,var(--bg-main),var(--bg-soft));
}
body.kids .hero .btn{
  background:var(--accent-trans);
  color:#fff;
  border:2px solid var(--accent);
}
body.kids .hero .btn:hover{
  background:#fff;
  color:var(--accent);
  transform:scale(1.05);
}

/* --------------------------------------------------------
   ==== 18️⃣ Section headings for Kids ================
   -------------------------------------------------------- */
body.kids h2{
  font-family:'Permanent Marker',cursive;
  color:var(--text);
}

/* --------------------------------------------------------
   ==== 19️⃣ Footer for Kids ==========================
   -------------------------------------------------------- */
body.kids footer{
  background:#fff;
  border-top:1px solid var(--accent);
}
</style>
</head>

<body class="adult">

<!-- ----------------------- DOT BACKGROUND (Kids only) ----------------------- -->
<div class="dot-bg"></div>

<header>
  <div class="header">
    <!-- Logo -->
    <div class="logo"
         data-en="School of Awakening"
         data-ar="مدرسة الصحوة">School of Awakening</div>

    <!-- Main navigation -->
    <nav class="main-nav">
      <ul>
        <li><a href="#" data-en="Home" data-ar="الرئيسية">Home</a></li>

        <!-- Journey – Dropdown -->
        <li class="dropdown">
          <a href="#" class="dropbtn"
             data-en="Journey" data-ar="الرحلة">Journey</a>
          <ul class="dropdown-content">
            <li><a href="#" data-en="Confusion" data-ar="الحيرة">Confusion</a></li>
            <li><a href="#" data-en="Healing"   data-ar="الشفاء">Healing</a></li>
            <li><a href="#" data-en="Tawheed"  data-ar="التوحيد">Tawheed</a></li>
            <li><a href="#" data-en="The Prophet" data-ar="النبي">The Prophet</a></li>
            <li><a href="#" data-en="Holy Quran" data-ar="القرآن الكريم">Holy Quran</a></li>
            <li><a href="#" data-en="Faith" data-ar="الإيمان">Faith</a></li>
            <li><a href="#" data-en="Choice" data-ar="الاختيار">Choice</a></li>
            <li><a href="#" data-en="Death" data-ar="الموت">Death</a></li>
            <li><a href="#" data-en="Barzakh" data-ar="البرزخ">Barzakh</a></li>
            <li><a href="#" data-en="Judgment" data-ar="الحساب">Judgment</a></li>
          </ul>
        </li>

        <li><a href="#" data-en="Qur’an Companion" data-ar="رفيق القرآن">Qur’an Companion</a></li>
        <li><a href="#" data-en="Map" data-ar="الخريطة">Map</a></li>
        <li><a href="#" data-en="Community" data-ar="المجتمع">Community</a></li>
        <li><a href="#" data-en="Film" data-ar="فيلم">Film</a></li>
        <li><a href="#" data-en="Join" data-ar="انضمام">Join</a></li>
      </ul>
    </nav>

    <!-- The **single** Mode‑switch button – same appearance as the
         markup you posted (the SVG is the drop‑down arrow) -->
    <div class="mode-toggle">
      <div class="mode-trigger"></div>
      <div class="mode-switch">
        <button id="modeBtn"
                class="group peer inline-flex h-6 items-center gap-2 rounded-xl px-2 py-1 uppercase outline-0 hover:bg-black hover:text-white"
                aria-haspopup="listbox"
                aria-expanded="false"
                aria-controls="mode-dropdown"
                aria-label="Mode switcher">
          <span id="current-mode">Adult</span>
          <svg class="transition-none w-[1em] group-hover:stroke-white"
               xmlns="http://www.w3.org/2000/svg"
               stroke="black"
               stroke-width="2"
               viewBox="0 0 16 10"
               fill="none"><path d="M1 1L8 8L15 1"></path></svg>
        </button>
      </div>
    </div>
  </div>
</header>

<!-- ------------------- Language Round Button (bottom‑right) ------------------- -->
<div class="lang-toggle">
  <button id="langBtn">ع</button>
</div>

<!-- ====================== HERO ====================== -->
<section class="hero">
  <div class="hero-grid">
    <div>
      <h1 data-en="In a journey where everything changes, the Qur’an remains. A companion for life… and beyond it."
          data-ar="فِي رِحْلَةٍ يَتَغَيَّرُ فِيهَا كُلُّ شَيْءٍ، يَبْقَى الْقُرْآنُ رَفِيقًا فِي الْحَيَاةِ وَمَا بَعْدَهَا.">
        In a journey where everything changes, the Qur’an remains. A companion for life… and beyond it.
      </h1>

      <p data-en="The Qur’an awakens hearts that had lost all hope of healing."
         data-ar="الْقُرْآنُ شِفَاءٌ لِقُلُوبٍ ظَنَّتْ أَنَّهَا لَنْ تُشْفَى.">
        The Qur’an was meant to walk with you — not sit on a shelf.
      </p>

      <a class="btn"
         href="#"
         data-en="Begin the Journey"
         data-ar="ابدأ الرحلة">Begin the Journey</a>
    </div>

    <div class="hero-visual">
      <div class="slide">Allah</div>
      <div class="slide">Self</div>
      <div class="slide">Others</div>
    </div>
  </div>
</section>

<main class="wrap">

  <!-- ==== Who is this for? ==== -->
  <section>
    <h2 data-en="Who is this for?" data-ar="لمن هذا؟">Who is this for?</h2>
    <div class="cards">
      <div class="card" data-en="Young hearts" data-ar="قلوب شابة">Young hearts</div>
      <div class="card" data-en="Seekers" data-ar="الباحثون">Seekers</div>
      <div class="card" data-en="Thinkers" data-ar="المفكرون">Thinkers</div>
      <div class="card" data-en="Believers" data-ar="المؤمنون">Believers</div>
    </div>
  </section>

  <!-- ==== The Map ==== -->
  <section>
    <h2 data-en="The Map" data-ar="الخريطة">The Map</h2>
    <canvas id="mapCanvas" width="900" height="420"></canvas>
  </section>

</main>

<footer>
  © 2025 <span data-en="School of Awakening — A Path of Awareness"
                data-ar="مدرسة الصحوة — طريق الوعي">School of Awakening — A Path of Awareness</span>
</footer>

<script>
/* -------------------------------------------------------
   0️⃣ Language toggle (English ↔ Arabic)
   ------------------------------------------------------- */
const langBtn = document.getElementById('langBtn');

function setLanguage(lang){
  // 1️⃣ <html> attributes
  document.documentElement.lang = lang;
  document.documentElement.dir  = (lang === 'ar') ? 'rtl' : 'ltr';

  // 2️⃣ button text (Arabic ↔ English flag)
  langBtn.textContent = (lang === 'en') ? 'ع' : 'E';

  // 3️⃣ replace every data‑en / data‑ar element
  document.querySelectorAll('[data-en]').forEach(el => {
    el.textContent = (lang === 'en') ? el.dataset.en : el.dataset.ar;
  });
}

// default language = English
setLanguage('en');
langBtn.onclick = () => {
  const newLang = document.documentElement.lang === 'en' ? 'ar' : 'en';
  setLanguage(newLang);
};

/* -------------------------------------------------------
   1️⃣ Mode toggle (Adult ↔ Kids) – single button
   ------------------------------------------------------- */
const modeBtn      = document.getElementById('modeBtn');
const currentMode = document.getElementById('current-mode');

function setMode(mode){
  // mode is either "adult" or "kids"
  document.body.className = mode;          // replace the whole class list
  drawMap();                               // redraw map with new colours
  currentMode.textContent = (mode === 'adult') ? 'Adult' : 'Kids';
  // keep ARIA state in sync
  modeBtn.setAttribute('aria-pressed','true');
}
function toggleMode(){
  const newMode = document.body.classList.contains('adult') ? 'kids' : 'adult';
  setMode(newMode);
}

// initialise (Adult is the default)
setMode('adult');
modeBtn.addEventListener('click', toggleMode);

/* -------------------------------------------------------
   2️⃣ Canvas map
   ------------------------------------------------------- */
const canvas = document.getElementById('mapCanvas');
const ctx    = canvas.getContext('2d');

const zones = [
  {x:140, y:260, r:28, label:'Al‑Mulk'},
  {x:330, y:140, r:28, label:'Awareness'},
  {x:520, y:260, r:28, label:'Meaning'},
  {x:720, y:160, r:28, label:'Hereafter'}
];

function drawMap(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const accent = getComputedStyle(document.body).getPropertyValue('--accent');

  /* ---- draw connecting lines ---- */
  ctx.strokeStyle = accent;
  ctx.lineWidth   = 3;
  ctx.beginPath();
  zones.forEach((z,i)=>{ i ? ctx.lineTo(z.x,z.y) : ctx.moveTo(z.x,z.y); });
  ctx.stroke();

  /* ---- draw zones (circles) and labels ---- */
  zones.forEach(z=>{
    ctx.beginPath();
    ctx.fillStyle = '#fff';
    ctx.arc(z.x,z.y,z.r,0,Math.PI*2);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#000';
    ctx.font = '14px Inter';
    ctx.textAlign = 'center';
    ctx.fillText(z.label, z.x, z.y + 44);
  });
}
drawMap();

/* -------------------------------------------------------
   3️⃣ Spotlight (dot‑background) – always active
   ------------------------------------------------------- */
(function initSpotlight(){
  const dotLayer = document.querySelector('.dot-bg');
  if (!dotLayer) return;
  document.addEventListener('mousemove', e => {
    dotLayer.style.setProperty('--x', `${e.clientX}px`);
    dotLayer.style.setProperty('--y', `${e.clientY}px`);
  });
})();
</script>

</body>
</html>
